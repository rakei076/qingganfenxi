# 聊天记录分析系统 2.0

这是一个用于分析特定格式聊天记录的Web应用，特别加强了对人际关系分析的深度。

## 功能特点

- 解析带有日期分隔符的聊天记录
- 识别发言人和发言内容
- 多维度情感分析
- 生成对话统计数据
- 可视化分析结果
- 深度人际关系分析

## 情感分析深度规划 2.0

### 1. 基础情感维度（升级版）
- 情感评分：0-100分，具体分段如下：
  * 0-20: 非常消极或冷淡的对话
  * 21-40: 偏消极或疏离的对话
  * 41-60: 中性或一般的日常对话
  * 61-80: 偏积极或友好的对话
  * 81-100: 非常积极或热络的对话
- 情感强度：1-5级
- 浪漫/暧昧张力：0-10分评分标准：
  * 1-2: 几乎无浪漫倾向
  * 3-4: 轻微暧昧或好感
  * 5-6: 一定程度的暧昧/情愫
  * 7-8: 强烈的浪漫气息、明显好感
  * 9-10: 极度亲昵或情侣式互动

### 2. 社交关系分析（升级版）
- 关系亲密度：1-5级评分标准：
  * 1: 仅为普通点头之交
  * 2: 一般朋友/同学/同事
  * 3: 较为熟悉，存在一定好感或信任
  * 4: 亲密关系，可能是互有好感或交往中
  * 5: 极度亲昵，言语间带有明显的爱意或情侣默契
- 关系阶段判定：
  * 初识：相互试探或礼貌阶段
  * 暧昧：相互好感，关系未确定
  * 正式交往：确认情侣关系
  * 深入交往：关系更为亲密稳定
  * 有矛盾：关系出现裂痕
  * 疏远：极度疏离或结束状态
- 浪漫可能性评分：0-5分
  * 0-1: 几乎无发展可能
  * 2-3: 小概率发展
  * 4-5: 大概率发展

### 3. 话题分析
- 话题分类：工作/学习/生活/情感等
- 话题深度：日常交际/深度交流
- 话题转换：话题切换频率和自然度
- 共同兴趣：重复出现的话题领域

### 4. 语言特征分析
- 用语风格：正式/随意、礼貌/随性
- 表情符号：使用频率和场景
- 语气词分析：语气词使用特点
- 特殊表达：网络用语、方言等

### 5. 行为模式分析
- 主动性分析：谁更经常发起对话
- 回应模式：正面/消极/敷衍的回应
- 关心行为：问候、关心对方状态
- 冲突处理：分歧和解决方式

### 6. 建议生成
- 关系改善建议：基于分析发现的问题
- 沟通技巧建议：提升对话质量的建议
- 互动优化建议：增进关系的具体方法
- 个性化建议：针对特定情况的建议

### 7. 可视化呈现
- 情感曲线：情感变化趋势图
- 互动热力图：时间分布可视化
- 话题词云：主要话题可视化
- 关系网络图：多人对话关系图

### 8. 深度学习应用
- 情感分类模型：多层情感分类
- 关系预测模型：预测关系发展趋势
- 个性化模型：适应不同类型的对话
- 上下文理解：长对话的上下文关联

### 9. 隐私和伦理
- 数据脱敏：保护隐私信息
- 伦理准则：遵守伦理道德标准
- 使用限制：明确使用范围和限制
- 用户告知：清晰的隐私政策

## 时间处理说明

### 时间相关分析的局限性

由于聊天记录的时间信息可能存在以下情况：
- 不同的导出格式
- 跨时区问题
- 系统时间不准确
- 消息发送延迟
- 网络延迟

因此，本系统在分析对话时：
1. 不依赖具体时间戳进行分析
2. 主要关注：
   - 消息的先后顺序
   - 对话的连贯性
   - 互动的质量
   - 话题的发展
3. 评估互动热度时，重点考虑：
   - 对话的持续性
   - 回应的完整性
   - 互动的积极程度
   - 话题的延续性

### 建议
如果需要准确的时间相关分析，建议：
1. 记录导出时的时区信息
2. 注明消息的实际发送时间
3. 提供额外的时间上下文信息

## 数据格式要求

聊天记录需要符合以下格式:

1. 日期分隔符: `********************YYYY-MM-DD********************`
2. 消息格式: `YYYY-MM-DD HH:mm:ss 用户名: 消息内容`
3. 支持的特殊消息类型:
   - 表情包: `[表情包]`
   - 图片: `[图片]`
   - 语音: `[语音]`
   - 撤回消息: `<revokemsg>消息内容</revokemsg>`
   - 引用: `,引用:用户名：引用内容`

## 使用方法

1. 输入DeepSeek API密钥
2. 将聊天记录粘贴到输入框
3. 点击"开始分析"按钮
4. 查看分析结果

## API密钥获取

1. 注册 DeepSeek 账号
2. 访问 API 密钥页面
3. 创建新的 API 密钥
4. 复制密钥字符串

注意: 请妥善保管您的 API 密钥,不要分享给他人

## 情感计算公式 3.0

### 原始分数获取

1. 基础情感维度 (BE: Basic Emotion)
- 情感评分 (ES: Emotion Score): [0-100]
- 情感强度 (EI: Emotion Intensity): [1-5]
- 互动热度 (EH: Engagement Heat): [1-5]
- 浪漫/暧昧张力 (RT: Romantic Tension): [0-10]

2. 社交关系维度 (SR: Social Relationship)
- 关系亲密度 (IR: Intimacy Rating): [1-5]
- 浪漫可能性 (RP: Romance Possibility): [0-5]

3. 话题维度 (TD: Topic Dimension)
- 话题深度 (TD: Topic Depth): [1-5]
- 话题参与度 (TP: Topic Participation): [1-5，根据"话题参与度"描述转换]

### 评分标准

1. 情感强度 (EI) 评分标准：